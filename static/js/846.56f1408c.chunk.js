"use strict";(self.webpackChunklot_scada=self.webpackChunklot_scada||[]).push([[846],{9846:function(e,n,t){t.r(n),t.d(n,{FakeData:function(){return T}});var l=t(3433),i=t(9439),a=t(6818),o=t(3099),r=t(1333),d=t(8443),s=t(3231),u=t(9389),c=t(7609),p=t(2730),v=t(2791),h=t(9286),g=t(184),Z=a.Z.Option,j=["none","even","mark","odd","space"],x=["110","300","600","1200"],m=["input-register","holding-register","discrete-input","coil","read-device-identification"],f=[5,6,7,8],T=function(e){var n,t,T,y,C,I,P,S,k,w,R,b,B,D,F,U,O=null===(n=e.cell)||void 0===n?void 0:n.toJSON(),A=v.useState((null===(t=O.config)||void 0===t?void 0:t.connectionTypeTemplate)||"tcp"),V=(0,i.Z)(A,2),E=V[0],G=V[1],L=v.useState(x),_=(0,i.Z)(L,2),H=_[0],J=_[1],K=v.useState(""),N=(0,i.Z)(K,2),W=N[0],q=N[1],z=v.useState((null===(T=O.config)||void 0===T?void 0:T.baudRateTemplate)||""),M=(0,i.Z)(z,2),Q=M[0],X=M[1],Y=v.useState((null===(y=O.config)||void 0===y?void 0:y.pathTemplate)||""),$=(0,i.Z)(Y,2),ee=$[0],ne=$[1],te=v.useState((null===(C=O.config)||void 0===C?void 0:C.parityTemplate)||j[1]),le=(0,i.Z)(te,2),ie=le[0],ae=le[1],oe=v.useState((null===(I=O.config)||void 0===I?void 0:I.dataBitsTemplate)||f[0]),re=(0,i.Z)(oe,2),de=re[0],se=re[1],ue=v.useState((null===(P=O.config)||void 0===P?void 0:P.stopBitsTemplate)||1),ce=(0,i.Z)(ue,2),pe=ce[0],ve=ce[1],he=v.useState((null===(S=O.config)||void 0===S?void 0:S.unitIdTemplate)||""),ge=(0,i.Z)(he,2),Ze=ge[0],je=ge[1],xe=v.useState((null===(k=O.config)||void 0===k?void 0:k.areUnsignedInts)||!1),me=(0,i.Z)(xe,2),fe=me[0],Te=me[1],ye=v.useState((null===(w=O.config)||void 0===w?void 0:w.timeoutTemplate)||""),Ce=(0,i.Z)(ye,2),Ie=Ce[0],Pe=Ce[1],Se=v.useState((null===(R=O.config)||void 0===R?void 0:R.endiannessTemplate)||""),ke=(0,i.Z)(Se,2),we=ke[0],Re=ke[1],be=v.useState((null===(b=O.config)||void 0===b?void 0:b.hostTemplate)||""),Be=(0,i.Z)(be,2),De=Be[0],Fe=Be[1],Ue=v.useState((null===(B=O.config)||void 0===B?void 0:B.portTemplate)||""),Oe=(0,i.Z)(Ue,2),Ae=Oe[0],Ve=Oe[1],Ee=v.useState((null===(D=O.config)||void 0===D?void 0:D.readInstructionsType)||"array"),Ge=(0,i.Z)(Ee,2),Le=Ge[0],_e=Ge[1],He=v.useState(null===(F=O.config)||void 0===F?void 0:F.readInstructions),Je=(0,i.Z)(He,2),Ke=Je[0],Ne=Je[1],We=v.useState((null===(U=O.config)||void 0===U?void 0:U.destinationPath)||""),qe=(0,i.Z)(We,2),ze=qe[0],Me=qe[1];v.useEffect((function(){var e,n,t,i,a,o,r,d,s,u,c,p,v,h,g,Z,x,m,T,y;(G((null===(e=O.config)||void 0===e?void 0:e.connectionTypeTemplate)||"tcp"),H.includes((null===(n=O.config)||void 0===n?void 0:n.baudRateTemplate)+""))||J([].concat((0,l.Z)(H),[null===(m=O.config)||void 0===m||null===(T=m.baudRateTemplate)||void 0===T?void 0:T.toString()]));if(ne(null===(t=O.config)||void 0===t?void 0:t.pathTemplate),X(null===(i=O.config)||void 0===i?void 0:i.baudRateTemplate),ae((null===(a=O.config)||void 0===a?void 0:a.parityTemplate)||j[1]),se((null===(o=O.config)||void 0===o?void 0:o.dataBitsTemplate)||f[0]),ve((null===(r=O.config)||void 0===r?void 0:r.stopBitsTemplate)||1),je(null===(d=O.config)||void 0===d?void 0:d.unitIdTemplate),Te((null===(s=O.config)||void 0===s?void 0:s.areUnsignedInts)||!1),Re(null===(u=O.config)||void 0===u?void 0:u.endiannessTemplate),Fe(null===(c=O.config)||void 0===c?void 0:c.hostTemplate),Ve(null===(p=O.config)||void 0===p?void 0:p.portTemplate),Pe(null===(v=O.config)||void 0===v?void 0:v.timeoutTemplate),_e((null===(h=O.config)||void 0===h?void 0:h.readInstructionsType)||"array"),"array"===(null===(g=O.config)||void 0===g?void 0:g.readInstructionsType))Ne([].concat((0,l.Z)(null===(y=O.config)||void 0===y?void 0:y.readInstructions),[{addressTemplate:"",key:"",lengthTemplate:"",typeTemplate:"input-register"}]));else if("payload"===(null===(Z=O.config)||void 0===Z?void 0:Z.readInstructionsType)){var C;Ne((null===(C=O.config)||void 0===C?void 0:C.readInstructions)||"")}Me(null===(x=O.config)||void 0===x?void 0:x.destinationPath)}),[e.cellId]),v.useEffect((function(){var n;null===(n=e.cell)||void 0===n||n.prop("config",{connectionTypeTemplate:E,pathTemplate:ee,timeoutTemplate:Ie,baudRateTemplate:Q,parityTemplate:ie,dataBitsTemplate:de,stopBitsTemplate:pe,unitIdTemplate:Ze,areUnsignedInts:fe,endiannessTemplate:we,hostTemplate:De,portTemplate:Ae,readInstructionsType:Le,destinationPath:ze,readInstructions:"payloadPath"===Le?Ke:Ke.filter((function(e){return""!==e.key}))})}),[e.cellId,E,ee,Ie,Q,ie,de,pe,Ze,fe,we,De,Ae,Le,ze,Ke]);var Qe=function(e){e.preventDefault(),J([].concat((0,l.Z)(H),[W])),q("")},Xe=function(e,n,t){if("payloadPath"!==Le||"payload"!==n){var i=(0,l.Z)(Ke);i[t][n]=e,t===i.length-1&&""!==i[t].key&&(i[t+1]={addressTemplate:"",key:"",lengthTemplate:"",typeTemplate:"input-register"}),Ne((0,l.Z)(i))}else Ne(e)};return(0,g.jsxs)(o.Z,{direction:"vertical",children:[(0,g.jsx)(r.Z,{plain:!0,children:"Address Config"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(s.ZP.Group,{value:E,onChange:function(e){return G(e.target.value)},children:(0,g.jsxs)(o.Z,{direction:"vertical",children:[(0,g.jsx)(s.ZP,{value:"tcp",children:"TCP Connection"}),(0,g.jsx)(s.ZP,{value:"serial",children:"Serial RTU Connection"})]})})}),"serial"===E?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Path Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g./dev/ROBOT or {{data.serial}}",value:ee,onChange:function(e){return ne(e.target.value)}})}),(0,g.jsx)(d.Z,{children:"Baud Rate Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.Z,{style:{width:200},placeholder:"custom dropdown render",value:Q,onChange:function(e){X(e)},dropdownRender:function(e){return(0,g.jsxs)(g.Fragment,{children:[e,(0,g.jsx)(r.Z,{style:{margin:"8px 0"}}),(0,g.jsxs)(o.Z,{align:"center",style:{padding:"0 8px 4px"},children:[(0,g.jsx)(u.Z,{placeholder:"Please enter item",value:W}),(0,g.jsxs)(c.Z.Link,{onClick:Qe,style:{whiteSpace:"nowrap"},children:[(0,g.jsx)(h.Z,{})," Add item"]})]})]})},children:H.map((function(e){return(0,g.jsx)(Z,{children:e},e)}))})}),(0,g.jsx)(d.Z,{children:"Parity Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.Z,{defaultValue:j[1],value:ie,onChange:function(e){return ae(e)},style:{width:"100%"},children:j.map((function(e){return(0,g.jsx)(Z,{children:e},e)}))})}),(0,g.jsx)(d.Z,{children:"Data Bits Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.Z,{defaultValue:f[0],value:de,onChange:function(e){return se(e)},style:{width:"100%"},children:f.map((function(e){return(0,g.jsx)(Z,{children:e},e)}))})}),(0,g.jsx)(d.Z,{children:"Stop Bits Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(a.Z,{defaultValue:1,value:pe,onChange:function(e){return ve(+e)},style:{width:"100%"},children:[(0,g.jsx)(Z,{children:"1"},1),(0,g.jsx)(Z,{children:"2"},2)]})}),(0,g.jsx)(d.Z,{children:"Unit ID Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.unitId}}",value:Ze,onChange:function(e){return je(e.target.value)}})}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(s.ZP.Group,{value:fe,onChange:function(e){return Te(e.target.value)},children:(0,g.jsxs)(o.Z,{direction:"vertical",children:[(0,g.jsx)(s.ZP,{value:!1,children:"Convert the results into signed integers"}),(0,g.jsx)(s.ZP,{value:!0,children:"Convert the results into unsigned integers"})]})})}),(0,g.jsx)(d.Z,{children:"Timeout Template (in milliseconds)"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.timeout}} or 3000000",value:Ie,onChange:function(e){return Pe(e.target.value)}})}),(0,g.jsx)(d.Z,{children:"Endianness Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.big or {{working.endianness}}",value:we,onChange:function(e){return Re(e.target.value)}})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Host Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.host}} or 192.168.0.9",value:De,onChange:function(e){return Fe(e.target.value)}})}),(0,g.jsx)(d.Z,{children:"Port Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.port}} or 502",value:Ae,onChange:function(e){return Ve(e.target.value)}})}),(0,g.jsx)(d.Z,{children:"Unit ID Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.unitId}}",value:Ze,onChange:function(e){return je(e.target.value)}})}),(0,g.jsx)(d.Z,{children:"Timeout Template (in milliseconds)"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.{{data.timeout}} or 3000000",value:Ie,onChange:function(e){return Pe(e.target.value)}})})]}),(0,g.jsx)(r.Z,{plain:!0,children:"Write Instructions"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(s.ZP.Group,{value:Le,onChange:function(e){return n=e.target.value,_e(n),void("array"===n?Ne([{addressTemplate:"",key:"",lengthTemplate:"",typeTemplate:"input-register"}]):"payloadPath"===n&&Ne(""));var n},children:(0,g.jsxs)(o.Z,{direction:"vertical",children:[(0,g.jsx)(s.ZP,{value:"array",children:"Array of Template Strings"}),(0,g.jsx)(s.ZP,{value:"payloadPath",children:"Payload Path"})]})})}),"array"===Le?(0,g.jsx)(g.Fragment,{children:Ke.map((function(e,n){return(0,g.jsxs)(p.Z,{style:{width:220},children:[(0,g.jsx)(d.Z,{children:"Register Type"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.Z,{defaultValue:m[0],value:null===e||void 0===e?void 0:e.typeTemplate,onChange:function(e){return Xe(e,"typeTemplate",n)},style:{width:"100%"},children:m.map((function(e){return(0,g.jsx)(Z,{children:e},e)}))})}),"read-device-identification"===(null===e||void 0===e?void 0:e.typeTemplate)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Device ID Code Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.1 or {{working.deviceIdCode}}",value:null===e||void 0===e?void 0:e.deviceIdCodeTemplate,onChange:function(e){return Xe(e.target.value,"deviceIdCodeTemplate",n)}})}),(0,g.jsx)(d.Z,{children:"Objext ID Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.0 or {{working.objectId}}",value:null===e||void 0===e?void 0:e.objectIdTemplate,onChange:function(e){return Xe(e.target.value,"objectIdTemplate",n)}})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Address Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.0 or {{working.address}}",value:null===e||void 0===e?void 0:e.addressTemplate,onChange:function(e){return Xe(e.target.value,"addressTemplate",n)}})}),(0,g.jsx)(d.Z,{children:"Length Template"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.1 or {{working.length}}",value:null===e||void 0===e?void 0:e.lengthTemplate,onChange:function(e){return Xe(e.target.value,"lengthTemplate",n)}})})]}),(0,g.jsx)(d.Z,{children:"Result Key"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"\u8bf7\u4fdd\u8bc1key\u503c\u7684\u552f\u4e00\u6027",value:null===e||void 0===e?void 0:e.key,onChange:function(e){return Xe(e.target.value,"key",n)}})}),(0,g.jsx)(r.Z,{plain:!0})]})}))}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Path to Read Instruction"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.data.myInstruction",value:Ke,onChange:function(e){return Xe(e.target.value,"payload")}})})]}),(0,g.jsx)(r.Z,{plain:!0,children:"Result"}),(0,g.jsx)(d.Z,{children:"Result Path"}),(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{placeholder:"e.g.result.modbusData",value:ze,onChange:function(e){return Me(e.target.value)}})})]})}}}]);
//# sourceMappingURL=846.56f1408c.chunk.js.map